@page "/PODetails/{PurchaseOrderId:guid}"
<MudBreadcrumbs Items="_items" Separator="/"/> 
   
 <PageHeader Title="Purchase Order Details" /> 
<MudGrid Class="mt-0" Style="align-items:stretch;">
    <MudItem xs="8" sm="8" Style="display:flex;">
        <MudPaper id="PODetails" Class="pa-3" Style="flex:1; display:flex; flex-direction:column;">
            <MudText Typo="Typo.body1" Color="Color.Primary">Purchase Order Details</MudText>
            <MudGrid>
                <MudItem xs="6" Class="m-0">
                    <MudTextField Class="pl-2" Label="Purchase Order Number" Disabled="true" FullWidth="true" style="color: darkblue;font-weight:700;"
                                  Value="@($"{PurchaseOrderDetails?.PoTypeName ?? string.Empty}{(string.IsNullOrWhiteSpace(PurchaseOrderDetails?.PoTypeName) ? string.Empty : "-")}{PurchaseOrderDetails?.SAPPONumber ?? string.Empty}")"
                                  Margin="Margin.Dense" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Class="pl-2" Label="PO Date" Disabled="true" FullWidth="true" style="color:darkblue;font-weight:700;"
                                  Value="@(PurchaseOrderDetails?.SAPPODate.ToString("dd-MMM-yy") ?? string.Empty)"
                                  Margin="Margin.Dense" />
                </MudItem>

            </MudGrid>
            <MudTextField Class="pl-2" Label="Supplier" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                          Value="@(PurchaseOrderDetails?.VendorName ?? string.Empty)"
                          Margin="Margin.Dense" />
            <MudTextField Class="pl-2" Label="Project" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                          Value="@(PurchaseOrderDetails?.ProjectName ?? string.Empty)"
                          Margin="Margin.Dense" />
            <MudGrid>
                <MudItem xs="12" sm="3" md="6" Class="m-0">
                    <MudTextField Class="pl-2" Label="Item Value" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.ItemValue.ToString("N2")"
                                  Margin="Margin.Dense" />
                </MudItem>
                <MudItem xs="12" sm="3" md="6">
                    <MudTextField Class="pl-2" Label="Special Discount" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.SpecialDiscount.ToString("N2")"
                                  Margin="Margin.Dense" />
                </MudItem>
                <MudItem xs="12" sm="3" md="6">
                    <MudTextField Class="pl-2" Label="Tax Value" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.GSTTotal.ToString("N2")"
                                  Margin="Margin.Dense" />
                </MudItem>
                <MudItem xs="12" sm="3" md="6">
                        <MudTextField Class="pl-2" Label="Total Value" Disabled="true" FullWidth="true" Typo="Typo.subtitle1" style="color: rebeccapurple;font-weight:700;"
                                  Value="@PurchaseOrderDetails.TotalValue.ToString("N2")"
                                      Margin="Margin.Dense" />
                </MudItem>

            </MudGrid>
        </MudPaper>
    </MudItem>
    <MudItem xs="4" sm="4" Style="display:flex;">
        <MudPaper id="InvoiceDetails" Class="pa-3" Style="flex:1; display:flex; flex-direction:column;">
            <MudText Typo="Typo.body1" Color="Color.Primary">Invoice Status</MudText>
            <MudGrid>
                <MudItem xs="12">
                    <MudTextField Class="pl-2" Label="Invoice Status" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@(PurchaseOrderDetails?.InvoiceStatus ?? string.Empty)"
                                  Margin="Margin.Dense" />
                    <MudTextField Class="pl-2" Label="Invoice Count" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.PreviousInvoiceCount"
                                  Margin="Margin.Dense" />
                    <MudTextField Class="pl-2" Label="Invoiced Value" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.PreviousInvoiceValue"
                                  Margin="Margin.Dense" />
                    <MudTextField Class="pl-2" Label="Invoice Pending" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.InvoiceBalanceValue"
                                  Margin="Margin.Dense" />
                    <MudTextField Class="pl-2" Label="Total Paid" Disabled="true" FullWidth="true" style="color: black;font-weight:400;"
                                  Value="@PurchaseOrderDetails.PaidValue"
                                  Margin="Margin.Dense" />
                </MudItem>
                <MudItem xs="6" sm="6">
                    <MudButton Color="Color.Primary" Variant="Variant.Outlined"  Size="Size.Small">
                        Create New Invoice
                    </MudButton>
                </MudItem>
                <MudItem xs="6" sm="6">
                    <MudButton Color="Color.Secondary" Variant="Variant.Outlined" Size="Size.Small">
                        View All Invoices
                    </MudButton>
                </MudItem>
            </MudGrid>
        </MudPaper>
    </MudItem>
</MudGrid>


@code{
    private List<BreadcrumbItem> _items = new()
    {
        new BreadcrumbItem("Home", href: "/", disabled: false),
        new BreadcrumbItem("Purchase Orders", href: "/POList", disabled: false),
        new BreadcrumbItem("Purchase Order Details", href: null, disabled: true)
    };
}