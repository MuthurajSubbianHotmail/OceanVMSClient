<MudGrid GutterSize="1" AlignItems="Center">
    <!-- Left: Invoice details (display only) -->
    <MudItem xs="12" sm="6">
        <MudPaper Elevation="0" Class="pa-2">
            <MudText Typo="Typo.h6" Class="mb-1">Invoice Details</MudText>
            <MudDivider Class="mb-1" />

            <MudGrid GutterSize="1" Spacing="1">
                <MudItem xs="4">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Reference No</MudText>
                    <MudText Typo="Typo.h6" Color=Color.Info Class="mb-1">@(_invoiceDto.InvoiceRefNo ?? "—")</MudText>
                </MudItem>
                <MudItem xs="4"/>
                <MudItem xs="4">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Date</MudText>
                    <MudText Typo="Typo.h6" Color=Color.Info Class="mb-1">@(_invoiceDto.InvoiceDate is DateTime d ? d.ToString("dd-MMM-yyyy") : "—")</MudText>
                </MudItem>
                <MudItem xs="12">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Vendor</MudText>
                    <MudText Typo="Typo.body1" Color="Color.Info" Class="mb-1">@(VendorName)</MudText>
                </MudItem>

                

                

                <MudItem xs="12" sm="4">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Item Value</MudText>
                    <MudText Typo="Typo.body1" Class="mb-1">@FormatCurrency(_invoiceDto?.InvoiceValue)</MudText>
                </MudItem>

                <MudItem xs="12" sm="4">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Tax Value</MudText>
                    <MudText Typo="Typo.body1" Class="mb-1">@FormatCurrency(_invoiceDto?.InvoiceTaxValue)</MudText>
                </MudItem>

                <MudItem xs="4">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Total Value</MudText>
                    <MudText Typo="Typo.h6" Color=Color.Secondary Class="mb-1">@FormatCurrency(_invoiceDto?.InvoiceTotalValue)</MudText>
                </MudItem>

               
                <MudItem xs="8">
                    <MudText Typo="Typo.subtitle1" Color="_labelColor">Invoice File</MudText>
                    @if (!string.IsNullOrWhiteSpace(_invoiceDto.InvoiceFileURL))
                    {
                        <MudTooltip Text="@_invoiceDto.InvoiceFileURL" Placement="Placement.Top">
                            <a href="@_invoiceDto.InvoiceFileURL"
                               target="_blank"
                               rel="noopener noreferrer"
                               download
                               style="text-decoration:none;">
                                <MudButton Variant="Variant.Outlined"
                                           Color="Color.Primary"
                                           Size="Size.Small">
                                    Download Invoice
                                </MudButton>
                            </a>
                        </MudTooltip>
                    }
                    else
                    {
                        <MudText Typo="Typo.body2">No file attached</MudText>
                    }
                </MudItem>
                <MudItem xs="4">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Status</MudText>
                    <div class="mb-1">
                        <MudChip T="string"
                                 Color="@GetInvoiceChipColor(_invoiceDto.InvoiceStatus)"
                                 Variant="Variant.Filled">
                            @(_invoiceDto.InvoiceStatus ?? "—")
                        </MudChip>
                    </div>
                </MudItem>
                <MudItem xs="12">
                    <MudText Typo="Typo.subtitle2" Color="_labelColor">Remarks</MudText>
                    <MudText Typo="Typo.body1" Class="mb-1">@(_invoiceDto.Remarks ?? "—")</MudText>
                </MudItem>

            </MudGrid>
        </MudPaper>
    </MudItem>

    <!-- Right: Purchase Order summary (display only) -->
    <MudItem xs="12" sm="6">
        <MudPaper Elevation="0" Class="pa-2">
            <MudText Typo="Typo.h6" Class="mb-1">Purchase Order Summary</MudText>

            <MudGrid GutterSize="1" Spacing="1">
                

                <MudItem xs="12" Class="mt-1">
                    <MudCard Elevation="0" Class="pa-1">
                        <MudGrid AlignItems="Center" GutterSize="1">
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">Purchase Order</MudText>
                                <MudText Typo="Typo.body1" Color="Color.Info">@(PurchaseOrderNumber)</MudText>
                            </MudItem>
                            <MudItem xs="4" />
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">PO Date</MudText>
                                <MudText Typo="Typo.body1" Color="Color.Info">@PurchaseOrderDate</MudText>
                            </MudItem>
                            <MudItem xs="12" sm="12">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">Project</MudText>
                                <MudText Typo="Typo.body1" Color="Color.Default">@ProjectNameText</MudText>
                            </MudItem>
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">PO Value</MudText>
                                <MudText Typo="Typo.body1" Color=Color.Info>@PoValueText</MudText>
                            </MudItem>

                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">PO Tax</MudText>
                                <MudText Typo="Typo.body1" Color="Color.Info">@PoTaxText</MudText>
                            </MudItem>
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">PO Total</MudText>
                                <MudText Typo="Typo.h6" Color="Color.Secondary">@PoTotalText</MudText>
                            </MudItem>

                            
                        </MudGrid>
                        <MudDivider />
                        <MudGrid AlignItems="Center" GutterSize="1" Class="mt-1">
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">Prev Inv Count</MudText>
                                <MudText Typo="Typo.h6" Color="Color.Info">@PrevInvoiceCountText</MudText>
                            </MudItem>
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoiced Amount</MudText>
                                <MudText Typo="Typo.h6" Color="Color.Info">@PrevInvoiceValueText</MudText>
                            </MudItem>
                            <MudItem xs="4">
                                <MudText Typo="Typo.subtitle2" Color="_labelColor">Invoice Balance</MudText>
                                <MudText Typo="Typo.h6" Color="Color.Warning">@InvoiceBalanceValueText</MudText>
                            </MudItem>
                        </MudGrid>
                    </MudCard>
                </MudItem>


            </MudGrid>
        </MudPaper>
    </MudItem>
</MudGrid>

@code {

}
